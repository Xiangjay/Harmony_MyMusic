# 我的音乐APP项目（持续更新中。。。）

### 项目说明
1. 本项目只为做学习展示，不用做任何商业用途
2. 本项目需要配合后端使用，接口用的是别人之前写好的，我这里克隆了一份（https://github.com/Xiangjay/MusicAppBackEnd）
3. 先在本地安装并运行后端，然后再运行本项目
4. 默认后端是运行在本地3000端口，如果不是则需要把本项目common/BasicConstants里的BASE_URL修改成后端地址
5. 由于没有登录功能并且后期也不打算做真正的登录，所以依赖登录的功能都没做，比如很多歌曲都是试听版，并且只能查看评论不能写评论
6. 后端拿到的评论数并不是真正的评论数量，commentsCount = comments.length，这个是后端代码的原因，这里忽略不计 
7. 由于官方推荐的Navigation不能在预览器中运行，为了开发和调试方便这里路由跳转还是用之前的Router
8. 某些功能只有在模拟器运行时才能看到效果，比如视频播放，播控中心播放音乐等，而模拟器运行拿数据不能使用本地后端地址，需要线上后端地址的请私信
9. 肯定有很多不完善的地方及bug，也有很多待优化的地方，欢迎大家踊跃提意见及建议(vx:15241138801)

### 项目特色及功能
1. 模仿QQ音乐、网易云音乐、抖音做的一个音乐APP，可播放音乐和视频
2. 通过用户首选项实现了主题的切换（只能在模拟器或者真机上展示），在首次打开APP时会弹窗，之后在左边的侧边栏里也可以设置，目前只有深色和浅色两种主题
3. 封装了媒体查询，AVPlayer，AVSession，用户首选项，HTTP等工具库
4. 点击歌曲进行播放，可自由暂停、切换当前播放的歌曲，可自由选择播放模式，也可对当前播放列表里的歌曲进行删除等操作
5. 实现了播控中心播放音乐功能，也可自由暂停、切换和选择播放模式
6. 评论列表实现了懒加载，默认显示20条评论，列表下滑可继续加载20条评论
7. 可像抖音一样播放视频，上下滑动切换视频，以及评论展示

### 待做功能
1. ~~播控中心播放音乐~~ (已完成)
2. 服务卡片播放音乐
3. 本地播放列表
4. ~~MV视频的播放~~ (已完成)
5. 完成其他tab页
6. 。。。

### 更新日志
1. 2020-06-10：初始化仓库并上传代码，实现了播放功能
2. 2020-06-10：实现了播控中心功能
3. 2020-06-11: 重写音乐页面
4. 2020-06-12: 重写数据结构
5. 2020-06-13：适配歌单详情和专辑详情在同一页面中显示
6. 2020-06-13: 用LazyForEach做评论页面
7. 2020-06-13: 新增MV页面，用于按播放量降序展示所有地区MV
8. 2020-06-14: 用setWindowLayoutFullScreen替代expandSafeArea实现全屏效果，并调整所有页面样式布局
9. 2020-06-15: 用swiper + video制作mv播放页面，可像抖音一样自由上下切换视频
10. 2020-06-16: 改造评论列表，变成每次只请求20条数据，滑到底部后下滑继续请求
11. 2020-06-16：增加视频点赞及显示评论功能